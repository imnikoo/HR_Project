<div class="secondary-menu grid-block">
   <div class="large-2 grid-block">
      <div class="grid-content">
         <h5 ng-bind="::'CANDIDATE.CANDIDATE_PROFILE' | translate"></h5> </div>
   </div>
   <div class="large-7 grid-block"> </div>
   <div class="large-3 grid-block align-right">
      <ul class="menu-bar second-button-bar">
         <li>
            <a ng-click="back()" ng-bind="::'COMMON.BACK' | translate"></a>
         </li>
         <li>
            <a ng-click="editCandidate()" ng-bind="::'COMMON.EDIT' | translate"></a>
         </li>
         <li ng-if="isChanged">
            <a ng-click="saveAndBack()" ng-bind="::'COMMON.SAVE' | translate"></a>
         </li>
      </ul>
   </div>
</div>
<div class="grid-block">
   <div class="vertical medium-9 grid-block">
      <div class="main-card candidate-profile">
         <candidate-info candidate="candidate"></candidate-info>
      </div>
      <div class="main-card candidate-profile">
      <candidate-vacancy-info ng-if="isCandidateLoaded" 
      vacancy-stage-infos-composed-by-candidate-id-vacancy-id="vacancyStageInfosComposedByCandidateIdVacancyId" 
      parent-entity="candidate" 
      directive-type="full"
      current-user="currentUser"
      > </candidate-vacancy-info>
      </div>
      <div class="main-card candidate-profile">
         <div class="card-divider" ng-bind="::'CANDIDATE.CANDIDATE_RESUME' | translate"></div>
         <hr>
         <div class="card-section">
            <div ng-bind-html="candidate.description"></div>
         </div>
      </div>
      <div class="main-card candidate-profile">
         <div class="card-divider">
            <div class="grid-block">
               <div class="small-6 grid-block" ng-bind="::'COMMON.HISTORY' | translate"> </div>
            </div>
         </div>
         <hr>
         <div ng-if="isCandidateLoaded" class="card-section">
               <table>
                  <thead>
                     <tr>
                        <th ng-bind="::'COMMON.DATE' | translate"></th>
                        <th ng-bind="::'COMMON.USER' | translate"></th>
                        <th ng-bind="::'COMMON.FIELD' | translate"></th>
                        <th ng-bind="::'COMMON.PAST_VALUE' | translate"></th>
                        <th ng-bind="::'COMMON.NEW_VALUE' | translate"></th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr class="history-tds" ng-repeat="log in convertedHistory | orderBy : '-createdOn' track by $index ">
                        <td class="date-td" ng-bind="log.createdOn | date : 'dd-MM-yy H:mm'">
                        </td>
                        <td ng-bind="log.user">
                        </td>
                        <td ng-bind="log.field | fieldName">
                        </td>
                        <td ng-bind="log.pastValue | date : 'dd-MM-yy' | shorten">
                        </td>
                        <td ng-bind="log.newValue | date : 'dd-MM-yy' | shorten">
                        </td>
                     </tr>
                  </tbody>
               </table>
         </div>
      </div>
   </div>
   <div class="medium-3 grid-block vertical-sidebar">
      <div class="vertical medium-horizontal grid-block vacancy-view">
         <div class="sidebar">
            <div class="card-divider" ng-bind="::'VACANCIES.VACANCIES' | translate"> </div>
            <div class="sidebar-content">
               <ul class="some-change">
                  <li ng-click="goToVacancies()">
                     <input name="vacancyFromBOT" id="vacancyFromBOT" type="radio">
                     <label for="vacancyFromBOT " ng-bind=":: 'COMMON.FROM_BOT' | translate "></label>
                  </li>
               </ul>
            </div>
         </div>
         <div class="sidebar ">
            <events responsibles="responsibles" vacancies="vacancies" candidates="candidates" event-types="thesaurus.eventtype" source="candidate" candidate-id="candidate.id" type="list-only" events="cloneCandidateEvents" save="saveEvent" remove="removeEvent"></events>
         </div>
         <div class="sidebar ">
            <comments comments="comments " save="saveComment" remove="removeComment" type="comment "></comments>
         </div>
         <div class="sidebar ">
            <div class="card-divider " ng-bind=":: 'COMMON.FILES' | translate "> </div>
            <div class="sidebar-content ">
               <fieldset class="file-upload ">
                  <input type="file" nv-file-select="" multiple uploader="uploader">
                  <table class="upload-table " ng-hide="!candidate.files.length ">
                     <caption ng-bind=":: 'COMMON.ADDED_FILES' | translate ">:</caption>
                     <thead>
                        <tr>
                           <th>№</th>
                           <th ng-bind-html=":: 'COMMON.NAME' | translate "></th>
                           <th ng-bind=":: 'COMMON.SIZE' | translate "></th>
                           <th></th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="item in candidate.files ">
                           <td>{{$index+1}}</td>
                           <td>
                              <a target="_blank " href="{{item.filePath | botUrl}} " ng-bind="item.description "></a>
                           </td>
                           <td ng-bind="item.fileSize "></td>
                           <td><a class="remove-item " ng-click="addFilesForRemove(item) "><i class="foundicon-remove general-icon "></i></a></td>
                        </tr>
                     </tbody>
                  </table>
                  <table class="upload-table " ng-hide="!uploader.queue ">
                     <caption ng-bind=":: 'COMMON.FILES_TO_UPLOAD' | translate ">:</caption>
                     <thead>
                        <tr>
                           <th>№</th>
                           <th ng-bind=":: 'COMMON.NAME' | translate "></th>
                           <th ng-bind=":: 'COMMON.SIZE' | translate "></th>
                           <th></th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr ng-repeat="item in uploader.queue ">
                           <td ng-bind="$index+1 "></td>
                           <td ng-bind="item.file.name "></td>
                           <td ng-bind="item.file.size "></td>
                           <td><a class="remove-item " ng-click="item.remove() "><i class="foundicon-remove general-icon "></i></a></td>
                        </tr>
                     </tbody>
                  </table>
               </fieldset>
            </div>
         </div>
      </div>
   </div>
</div>